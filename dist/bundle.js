!function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class r{constructor(t){this.figure=t,this.X=Math.round(this.getFigureFromMatrix()[0].length/2),this.Y=-this.getFigureFromMatrix().length}getFigureSize(t){return{width:t[0].length,height:t.length}}getFigureFromMatrix(){let t=[];return this.figure.forEach(e=>{let i=!1;e.forEach(t=>{Number(t)>0&&(i=!0)}),i&&t.push(e)}),t}drawFigure(t,e){return t=e.map(t=>[...t]),this.getFigureFromMatrix().forEach((e,i)=>{e.forEach((e,r)=>{t[this.Y+i]&&e>0&&(t[this.Y+i][this.X+r]=e)})}),t}getFigureCoordsAtPosition(t,e,i){let r=[];return t.forEach((o,s)=>{o.forEach((o,n)=>{t[s][n]>0&&r.push([e+s,i+n])})}),r}canMoveDown(t){let e=!0,i=this.getFigureFromMatrix(),r=this.getFigureCoordsAtPosition(i,this.Y+1,this.X),o=this.getFigureCoordsAtPosition(i,this.Y,this.X),s=r.filter(t=>{if(!o.find(e=>JSON.stringify(t)==JSON.stringify(e)))return!0});return this.Y+1>t.length&&(e=!1),s.forEach(i=>{i[0]>0&&(!t[i[0]]||t[i[0]][i[1]]>0)&&(e=!1)}),e}canMoveLeft(){}canMoveRight(){}canRotate(){}moveDown(){}moveLeft(){}moveRight(){}rotate(){}}(new class{constructor(){this.fps=1,this.score=0,this.isPlaying=!0,this.gameHtml="",this.timeStamp,this.gameArea=[["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"]],this.snapShot=this.gameArea.map(t=>[...t]),this.activeFigure=new r([[0,0,8],[0,8,8],[0,0,8]]),this.playerY=null}loop(t){this&&this.isPlaying&&setTimeout(()=>{this.update(t),window.requestAnimationFrame(this.loop.bind(this))},1e3/this.fps)}render(){this.gameHtml="",this.gameHtml+=`score: ${this.score} <br>`,this.gameArea.forEach(t=>{t.forEach(t=>{this.gameHtml+=`${t}`}),this.gameHtml+="<br>"}),document.body.innerHTML=this.gameHtml}update(t){this.activeFigure.Y===this.playerY&&(this.activeFigure=new r([[0,0,0],[8,8,8],[0,0,0]])),this.gameArea=this.activeFigure.drawFigure(this.gameArea,this.snapShot),this.activeFigure.canMoveDown(this.gameArea)?this.activeFigure.Y++:(this.snapShot=this.gameArea.map(t=>[...t]),this.playerY=this.activeFigure.Y),this.render()}}).loop()}]);