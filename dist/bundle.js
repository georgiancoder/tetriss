!function(t){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);class i{constructor(t){this.figure=t,this.X=Math.round(this.getFigureFromMatrix()[0].length/2),this.Y=-this.getFigureFromMatrix().length}getFigureSize(t){return{width:t[0].length,height:t.length}}getFigureFromMatrix(){let t=[];return this.figure.forEach(e=>{let r=!1;e.forEach(t=>{Number(t)>0&&(r=!0)}),r&&t.push(e)}),t}drawFigure(t,e){return t=e.map(t=>[...t]),this.getFigureFromMatrix().forEach((e,r)=>{e.forEach((e,i)=>{t[this.Y+r]&&e>0&&(t[this.Y+r][this.X+i]=e)})}),t}getFigureCoordsAtPosition(t,e,r){let i=[];return t.forEach((o,n)=>{o.forEach((o,s)=>{t[n][s]>0&&i.push([e+n,r+s])})}),i}canMoveDown(t){let e=!0,r=this.getFigureFromMatrix(),i=this.getFigureCoordsAtPosition(r,this.Y+1,this.X),o=this.getFigureCoordsAtPosition(r,this.Y,this.X),n=i.filter(t=>{if(!o.find(e=>JSON.stringify(t)==JSON.stringify(e)))return!0});return this.Y+1>t.length&&(e=!1),n.forEach(r=>{r[0]>0&&(!t[r[0]]||t[r[0]][r[1]]>0)&&(e=!1)}),e}canMoveLeft(){}canMoveRight(){}canRotate(){}moveDown(){}moveLeft(){}moveRight(){}rotate(){}}const o=[[[0,0,0],[8,8,8],[0,0,0]],[[8,8],[8,8]],[[0,8,0],[8,8,8],[0,0,0]],[[8,8,0],[0,8,8],[0,0,0]],[[0,8,8],[8,8,0],[0,0,0]],[[0,8,0],[0,8,0],[0,8,8]],[[0,8,0],[0,8,0],[8,8,0]]];(new class{constructor(){this.fps=1,this.score=0,this.isPlaying=!0,this.gameHtml="",this.timeStamp,this.gameArea=[["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0"]],this.snapShot=this.gameArea.map(t=>[...t]),this.activeFigure=new i(this.randomFigure()),this.playerY=null}randomFigure(){return o[Math.floor(Math.random()*o.length)]}loop(t){this&&this.isPlaying&&setTimeout(()=>{this.update(t),window.requestAnimationFrame(this.loop.bind(this))},1e3/this.fps)}render(){this.gameHtml="",this.gameHtml+=`score: ${this.score} <br>`,this.gameArea.forEach(t=>{t.forEach(t=>{this.gameHtml+=`${t}`}),this.gameHtml+="<br>"}),document.body.innerHTML=this.gameHtml}update(t){this.activeFigure.Y===this.playerY&&(this.activeFigure=new i(this.randomFigure())),this.gameArea=this.activeFigure.drawFigure(this.gameArea,this.snapShot),this.activeFigure.canMoveDown(this.gameArea)?this.activeFigure.Y++:(this.snapShot=this.gameArea.map(t=>[...t]),this.playerY=this.activeFigure.Y),this.render()}}).loop()}]);